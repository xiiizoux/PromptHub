# PromptHub MCP Adapter v2.2.5 发布说明

## 🐛 重要修复 - 角色前缀显示问题

### 问题描述
在之前的版本中，用户在AI客户端中搜索和查看提示词时，可能会看到不必要的角色前缀，如：
- "用户: [提示词内容]"
- "系统: [提示词内容]"

这些前缀影响了用户体验，使得提示词内容显示不够简洁。

### 修复内容

#### 1. 角色前缀清理增强
- 增强了`extractPromptContent`函数中的角色前缀清理逻辑
- 现在会自动移除以下前缀：
  - `用户:`
  - `系统:`
  - `User:`
  - `System:`
  - `Assistant:`
  - `助手:`

#### 2. 显示一致性改进
- 统一了MCP服务和Web服务的提示词内容显示格式
- 确保无论通过哪种方式保存的提示词，在显示时都不会出现角色前缀
- 提升了用户体验的一致性

#### 3. 技术改进
- 优化了内容提取算法，更好地处理不同格式的消息数据
- 改进了前缀检测和清理的正则表达式匹配
- 确保向后兼容，对已存在的数据也能正确处理

### 影响范围
- ✅ 所有AI客户端（Cursor、Claude Desktop等）的搜索结果显示
- ✅ MCP工具返回的提示词内容格式
- ✅ 用户复制提示词时的内容格式

### 升级方法

#### 使用npx（推荐）
```bash
npx prompthub-mcp-adapter@latest
```

#### 全局安装
```bash
npm install -g prompthub-mcp-adapter@latest
```

#### 更新现有安装
```bash
npm update -g prompthub-mcp-adapter
```

### 验证修复
升级后，您可以通过以下方式验证修复效果：

1. **在AI客户端中搜索提示词**，确认显示的内容不再有角色前缀
2. **复制提示词内容**，确认复制的内容格式正确
3. **查看提示词详情**，确认内容显示简洁明了

### 兼容性
- ✅ 向后兼容所有现有配置
- ✅ 支持所有主流AI客户端
- ✅ 适用于已存在的提示词数据

---

**感谢您使用PromptHub MCP Adapter！**

如有任何问题或建议，请访问：
- GitHub: https://github.com/xiiizoux/PromptHub
- 官网: https://prompt-hub.cc
